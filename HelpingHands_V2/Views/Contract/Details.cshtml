@model HelpingHands_V2.Models.CareContract
@{
    ViewData["Title"] = "Details";
    var Contract = ViewBag.Contract;
    var Message = ViewBag.Message;
}

<h2 class="display-4 text-center">Contract Details</h2>
@if (Message != null)
{
    <p class="text-decoration-underline text-danger">@Message</p>
}
@if (User.IsInRole("N"))
{
    <a asp-action="Index" class="btn btn-secondary">Back</a>
} else if(User.IsInRole("P"))
{
    <a asp-action="Index" class="btn btn-secondary">Back</a>
}
else
{
    <a asp-action="Index" class="btn btn-secondary">Back</a>
}
<hr />

<div class="row">
    <dl>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ContractStatus)
        </dt>
        <dd class = "col-sm-10">
            @Contract.ContractStatus
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ContractDate)
        </dt>
        <dd class = "col-sm-10">
            @Contract.ContractDate.Day @Contract.ContractDate.ToString("dddd") @Contract.ContractDate.ToString("MMM")
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.AddressLineOne)
        </dt>
        <dd class = "col-sm-10">
            @Contract.AddressLineOne
        </dd>
        @if (Contract.AddressLineTwo != null)
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.AddressLineTwo)
            </dt>
            <dd class="col-sm-10">
                @Contract.AddressLineTwo
            </dd>
        }
        @if (Contract.StartDate != null)
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.StartDate)
            </dt>
            <dd class="col-sm-10">
                @Contract.StartDate.Day @Contract.StartDate.ToString("dddd") @Contract.StartDate.ToString("MMM")
            </dd>
        }
        @if (Contract.EndDate != null)
        {

            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EndDate)
            </dt>
            <dd class="col-sm-10">
                @Contract.EndDate.Day @Contract.EndDate.ToString("dddd") @Contract.EndDate.ToString("MMM")
            </dd>
        }
        @if (Contract.ContractComment != null)
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ContractComment)
            </dt>
            <dd class="col-sm-10">
                @Contract.ContractComment
            </dd>
        }
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Nurse)
        </dt>
        <dd class = "col-sm-10">
            @Contract.NurseFirstname @Contract.NurseLastname
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Patient)
        </dt>
        <dd class = "col-sm-10">
            @Contract.PatientFirstname @Contract.PatientLastname
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Suburb)
        </dt>
        <dd class = "col-sm-10">
            @Contract.SuburbName
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Wound)
        </dt>
        <dd class = "col-sm-10">
            @Contract.WoundName
        </dd>
    </dl>
</div>
<div class="btn-group" role="group" aria-label="Control Panel">
    <a asp-action="Edit" asp-route-id="@Contract.ContractId" class="btn btn-success">Edit</a>
    <form asp-action="Delete">
        <input asp-for="ContractId" value="@Contract.ContractId" type="hidden" />
        <input type="submit" value="Delete" onclick="return confirm('Are you sure you want to delete contract: #@Contract.ContractId?')" class="btn btn-danger" />
    </form>
</div>
